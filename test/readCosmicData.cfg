process ANALYSEMIP = {

# ECAL Unpacker
include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerMapping.cfi"
include "EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi"

# ECAL TPG Producer
include "SimCalorimetry/EcalTrigPrimProducers/data/ecalTriggerPrimitiveDigis_CosmicsConfiguration.cff"

# ECAL TPG Analyzer
include "Geometry/CaloEventSetup/data/CaloGeometry.cff"
include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

# input
untracked PSet maxEvents = {untracked int32 input = 2}

source = PoolSource {
    untracked vstring fileNames =
    {'rfio:/castor/cern.ch/user/f/franzoni/ecal-p5-runs-319xx-318xx/P5_Co.00031955.A.0.0.root'}
    ####{'rfio:/castor/cern.ch/user/s/scooper/ecal_P5_330xx_331xx/ecal_local.00033400.0001.A.storageManager.0.0000.root'}
}

# Analyser module
module tpAnalyzer = EcalTrigPrimAnalyzerMIPs {
   string Label = "ecalEBunpacker"
   string Producer = "EBTT"
   string DigiLabel = "ecalEBunpacker"
   string DigiProducer = "ebDigis"
   string EmulLabel = "ecalTriggerPrimitiveDigis"
   string EmulProducer = ""
}


path p = { ecalEBunpacker
           , ecalTriggerPrimitiveDigis
           , tpAnalyzer
         }

}
