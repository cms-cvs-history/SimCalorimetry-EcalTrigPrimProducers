
process PROTPGD  = {

include "CalibCalorimetry/Configuration/data/Ecal_FakeConditions.cff"

include  "SimCalorimetry/EcalTrigPrimProducers/data/ecalTriggerPrimitiveDigis.cff"

	source = PoolSource { 
		untracked vstring fileNames =
                {'rfio:/castor/cern.ch/cms/store/RelVal/2007/3/9/RelVal130pre5SingleEPt35-DIGI-RECO/0000/5C721C04-8CCF-DB11-A267-000E0C4D2DDC.root'}
	}

        untracked PSet maxEvents = {untracked int32 input = 10}

	module out = PoolOutputModule {	
	       untracked string fileName = 'file:/tmp/uberthon/TrigPrim.root' 
               untracked vstring outputCommands = {
                 "drop *_*_*_*",
                 "keep *_ecalTriggerPrimitiveDigis_*_*"
               }
	}

        service =Timing{}
        service = MessageLogger {
#         untracked vstring debugModules = {   "ecalTriggerPrimitiveDigis"   }
#         untracked vstring categories    =    { "EcalTPG"}

#          untracked vstring destinations =  {    "cout"  }
#          untracked PSet cout   =  {
#                 untracked string threshold = "DEBUG"
#                                 untracked PSet DEBUG ={untracked int32 limit = 0}
#                                 untracked PSet EcalTPG ={untracked int32 limit = 1000000000000}
#          }
      }

	path p = {ecalTriggerPrimitiveDigis}
        endpath outpath = { out }
        

        es_module = EcalTrigPrimESProducer {
                  untracked string DatabaseFileEB = "TPG.txt"
                  untracked string DatabaseFileEE = ""
        }

        es_source tpparams = EmptyESSource {
          string recordName = "EcalTPParametersRcd"
          vuint32 firstValid = { 1 }
          bool iovIsRunNotTime = false
        }
}
