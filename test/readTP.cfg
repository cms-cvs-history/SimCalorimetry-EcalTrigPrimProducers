process PROdTPA  = {
 include "Geometry/CaloEventSetup/data/CaloGeometry.cff"
 include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"
 include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
 include "CalibCalorimetry/EcalTPGTools/data/ecalTPGScale.cff"

# esmodule creating  EcalTPParametersRcd + corresponding empty essource
    es_module = EcalTrigPrimESProducer {
        untracked string DatabaseFile = "TPG.txt"
    }
    es_source tpparams6 = EmptyESSource {
        string recordName = "EcalTPGLutGroupRcd"
        vuint32 firstValid = { 1 }
        bool iovIsRunNotTime = true
    }
    es_source tpparams7 = EmptyESSource {
        string recordName = "EcalTPGLutIdMapRcd"
        vuint32 firstValid = { 1 }
        bool iovIsRunNotTime = true
    }

    source = PoolSource {
        untracked vstring fileNames = {'file:TrigPrim.root'}
    }

    untracked PSet maxEvents = {untracked int32 input = -1}


    module tpAnalyzer = EcalTrigPrimAnalyzer {
	InputTag inputTP = simEcalTriggerPrimitiveDigis::PROTPGD
	InputTag inputRecHitsEB =ecalRecHit:EcalRecHitsEB
	InputTag inputRecHitsEE =ecalRecHit:EcalRecHitsEE
	bool AnalyzeRecHits = true
        }
    path p = { tpAnalyzer }

}

