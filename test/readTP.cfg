process PROdTPA  = {
 include "Geometry/CaloEventSetup/data/CaloGeometry.cff"
 include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"
 include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

# esmodule creating  EcalTPParametersRcd + corresponding empty essource
    es_module = EcalTrigPrimESProducer {
        untracked string DatabaseFileEB = "TPG_EB.txt"
        untracked string DatabaseFileEE = "TPG_EE.txt"
    }
    es_source tpparams6 = EmptyESSource {
        string recordName = "EcalTPGLutGroupRcd"
        vuint32 firstValid = { 1 }
        bool iovIsRunNotTime = true
    }
    es_source tpparams7 = EmptyESSource {
        string recordName = "EcalTPGLutIdMapRcd"
        vuint32 firstValid = { 1 }
        bool iovIsRunNotTime = true
    }
    es_source tpparams12 = EmptyESSource {
        string recordName = "EcalTPGPhysicsConstRcd"
        vuint32 firstValid = { 1 }
        bool iovIsRunNotTime = true
    }



    source = PoolSource {
        untracked vstring fileNames = {'file:TrigPrim.root'}
#        untracked vstring fileNames = {'file:/tmp/TrigPrim_timing.root'}
#untracked vstring fileNames = {'/store/mc/2007/12/7/RelVal-RelValSingleElectronPt35-1197045102/0002/4A5FC2AE-07A5-DC11-AAF8-001617E30D00.root',
#'/store/mc/2007/12/7/RelVal-RelValSingleElectronPt35-1197045102/0002/6260B2C3-02A5-DC11-B634-000423D6C8E6.root',
#	    '/store/mc/2007/12/7/RelVal-RelValSingleElectronPt35-1197045102/0002/D2F8948A-0AA5-DC11-9FF6-001617C3B5F4.root'}

    }

    untracked PSet maxEvents = {untracked int32 input = -1}


    module tpAnalyzer = EcalTrigPrimAnalyzer {
          InputTag inputTP = ecalTriggerPrimitiveDigis::PROTPGD
      InputTag inputRecHitsEB =ecalRecHit:EcalRecHitsEB
      InputTag inputRecHitsEE =ecalRecHit:EcalRecHitsEE
#string RecHitsLabelEB = "EcalRecHitsEB"
#      string RecHitsLabelEE = "EcalRecHitsEE"
#      string RecHitsProducer = "ecalRecHit"
          bool AnalyzeRecHits = true
        }
    path p = { tpAnalyzer }

}

